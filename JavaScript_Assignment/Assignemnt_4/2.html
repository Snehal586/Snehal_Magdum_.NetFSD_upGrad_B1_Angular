<!DOCTYPE html>
<html>
<head>
<title>Student Performance Analyzer</title>
</head>

<body>

<h2>Student Performance Analyzer</h2>
<div id="result"></div>

<script>

let students = [
  { name: "Akhil", marks: 85 },
  { name: "Priya", marks: 72 },
  { name: "Ravi", marks: 90 },
  { name: "Meena", marks: 45 },
  { name: "Karan", marks: 30 }
];

let box = document.getElementById("result");


let passedStudents = students.filter(s => s.marks >= 40);
box.innerHTML += "<b>Passed Students:</b> " +
passedStudents.map(s => s.name).join(", ") + "<br><br>";


let distinction = students.filter(s => s.marks >= 85);
box.innerHTML += "<b>Distinction:</b> " +
distinction.map(s => s.name).join(", ") + "<br><br>";


let averageMarks =
students.reduce((sum, s) => sum + s.marks, 0) / students.length;
box.innerHTML += "<b>Class Average:</b> " +
averageMarks.toFixed(2) + "<br><br>";


let topper = students
.sort((a,b)=> b.marks - a.marks)[0];
box.innerHTML += "<b>Topper:</b> " +
topper.name + " (" + topper.marks + ")<br><br>";


let failedCount =
students.filter(s => s.marks < 40).length;
box.innerHTML += "<b>Failed Students Count:</b> " +
failedCount + "<br><br>";


let gradedList = students.map(s => {

    let grade =
        s.marks >= 85 ? "A" :
        s.marks >= 60 ? "B" :
        s.marks >= 40 ? "C" : "Fail";

    return { ...s, grade };
});

box.innerHTML += "<b>Grades:</b><br>";
gradedList.forEach(s=>{
    box.innerHTML += s.name + " â†’ " + s.grade + "<br>";
});


let leaderboard =
[...students].sort((a,b)=> b.marks - a.marks)
.map((s,i)=> ({...s, rank:i+1}));

box.innerHTML += "<br><b>Leaderboard:</b><br>";
leaderboard.forEach(s=>{
    box.innerHTML +=
    "Rank " + s.rank + " - " +
    s.name + " (" + s.marks + ")<br>";
});


let removedLowest =
leaderboard.slice(0, leaderboard.length - 1);

box.innerHTML += "<br><b>After Removing Lowest Scorer:</b><br>";
removedLowest.forEach(s=>{
    box.innerHTML += s.name + "<br>";
});

</script>

</body>
</html>